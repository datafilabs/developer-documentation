"use strict";(self.webpackChunkdeveloper_documentation=self.webpackChunkdeveloper_documentation||[]).push([[740],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>m});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),p=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(r),m=n,h=u["".concat(l,".").concat(m)]||u[m]||c[m]||o;return r?a.createElement(h,i(i({ref:t},d),{},{components:r})):a.createElement(h,i({ref:t},d))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var p=2;p<o;p++)i[p]=r[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},1785:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var a=r(7462),n=(r(7294),r(3905));const o={sidebar_position:4,title:"Setup Local Edge Server"},i="Setup Local Edge Server",s={unversionedId:"edge-servers/local-edge-server",id:"edge-servers/local-edge-server",title:"Setup Local Edge Server",description:"This guide will help you to setup an edge server locally in your computer. You can use the same information to host the edge server locally in your private network, On-premises, or in your cloud provider.",source:"@site/docs/3.edge-servers/4.local-edge-server.md",sourceDirName:"3.edge-servers",slug:"/edge-servers/local-edge-server",permalink:"/docs/edge-servers/local-edge-server",draft:!1,editUrl:"https://github.com/datafilabs/developer-documentation/tree/main/docs/3.edge-servers/4.local-edge-server.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Setup Local Edge Server"},sidebar:"tutorialSidebar",previous:{title:"Self Hosted Edge Servers",permalink:"/docs/edge-servers/self-hosted"},next:{title:"References",permalink:"/docs/category/references"}},l={},p=[{value:"Step 1: Run Edge Server Container",id:"step-1-run-edge-server-container",level:2},{value:"Step 2: Configure your Dataset",id:"step-2-configure-your-dataset",level:2},{value:"Overview",id:"overview",level:3},{value:"Rules",id:"rules",level:3},{value:"Step 3: Viewing your data",id:"step-3-viewing-your-data",level:2}],d={toc:p};function c(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"setup-local-edge-server"},"Setup Local Edge Server"),(0,n.kt)("p",null,"This guide will help you to setup an edge server locally in your computer. You can use the same information to host the edge server locally in your private network, On-premises, or in your cloud provider."),(0,n.kt)("h2",{id:"step-1-run-edge-server-container"},"Step 1: Run Edge Server Container"),(0,n.kt)("p",null,"Datafi self hosted Edge Servers are containerized, they can be run anywhere a Docker container can run. If you don't have a Docker environment, you can start by installing Docker on your local server."),(0,n.kt)("p",null,"Complete the following steps to setup a local Edge Server."),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Theses steps will setup an Edge Server on your local machine and connect an MySQL database. You can use the same steps to connect other supported data sources by using the specific dfcli parameters.")),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Install Docker Desktop and complete the setup steps (ref: ",(0,n.kt)("a",{href:"https://www.docker.com/products/docker-desktop",target:"_blank"},(0,n.kt)("a",{parentName:"p",href:"https://www.docker.com/products/docker-desktop"},"https://www.docker.com/products/docker-desktop"))," )")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Verify Docker has been installed by running the following command and confirm the ",(0,n.kt)("strong",{parentName:"p"},"Hello from Docker!")," reply:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},"docker run hello-world\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Open the Terminal and run the following commands to pull and then run the latest Datafi CLI container image:"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker pull datafi/cli:latest\n")),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker run --rm -ti -v ~/temp:/es/out datafi/cli:latest\n")),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"The CLI container will export to the /es/out folder and connects a local directory (",(0,n.kt)("inlineCode",{parentName:"p"},"~/temp"),"). Instead of ",(0,n.kt)("inlineCode",{parentName:"p"},"~/temp")," you can use any local directory."))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"The previous step runs the cli container and installs ",(0,n.kt)("inlineCode",{parentName:"p"},"dfcli"),". Use ",(0,n.kt)("inlineCode",{parentName:"p"},"dfcli")," to generate the environment variable used while running the Edge Server. Run the following command in the bash shell from the previous step."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"dfcli dataset --endpoint <IP address or host name where the Edge Server will run> --type mysql --name <name of your dataset> --pointOfContact <your email address>  --address <IPP address of host name of your mysql server> --dbname <database name>  --username <database user> --password <user password> add\n\n")),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"The above command adds a MySQL database. The parameters will be different for each data source. Run ",(0,n.kt)("inlineCode",{parentName:"p"},"dfcli dataset")," to see the parameters for the available data sources.")),(0,n.kt)("p",{parentName:"li"},"This step will connect to the data source with the provided credentials. It will generate a ",(0,n.kt)("inlineCode",{parentName:"p"},"key.txt")," file in the ",(0,n.kt)("inlineCode",{parentName:"p"},"es/out")," folder. The ",(0,n.kt)("inlineCode",{parentName:"p"},"key.txt")," file will be used in Setp 5 when running the container. Before continuing, copy the link to add the dataset to your Datafi Workspace in setp 6."),(0,n.kt)("p",{parentName:"li"}," Enter ",(0,n.kt)("inlineCode",{parentName:"p"},"exit")," to quite the CLI.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Run the Edge Server container with the ",(0,n.kt)("inlineCode",{parentName:"p"},"key.txt")," file as an environment variable."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sh"},"docker pull datafi/es:latest\n")),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sh"},"docker run --rm -p 443:443 -e KEY=$(cat ~/temp/key.txt)  datafi/es:latest\n")),(0,n.kt)("p",{parentName:"li"},"Once started, you should see ",(0,n.kt)("inlineCode",{parentName:"p"},"Edge server started")," in the logs")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Use the link copied from step 4 to connect the Edge Server and add the dataset to your Datafi workspace. Note: Log into your workspace before opening the link from your browser. ",(0,n.kt)("a",{parentName:"p",href:"https://home.datafi.us/register"},"signed up for a free Datafi account here"),"."))),(0,n.kt)("h2",{id:"step-2-configure-your-dataset"},"Step 2: Configure your Dataset"),(0,n.kt)("p",null,"After Completing the Step 1, you should see the Edit Dataset dialog which will allow you to configure and edit the details for the dataset you just added. Once this is saved, you will be redirected to the catalog (",(0,n.kt)("a",{parentName:"p",href:"https://home.datafi.us"},"https://home.datafi.us"),")"),(0,n.kt)("p",null,"(The dialog can be accessed again any time by clicking the ",(0,n.kt)("strong",{parentName:"p"},"Edit")," icon of the dataset you are currently active on, in case you close it before you are finished or want to make a change.)"),(0,n.kt)("h3",{id:"overview"},"Overview"),(0,n.kt)("p",null,"In the dataset Overview you can update the name, description, and tags for your dataset. This information is used to help other users find this dataset and it\u2019s contents."),(0,n.kt)("h3",{id:"rules"},"Rules"),(0,n.kt)("p",null,"The rules sections allows you to create rules that can mask specific fields in your dataset's tables. Rules control how data is seen by users when their specific grants are less than the values necessary to see specific fields. "),(0,n.kt)("h2",{id:"step-3-viewing-your-data"},"Step 3: Viewing your data"),(0,n.kt)("p",null,"Data can be new viewed though the platform and shared with other users in your workspace. ",(0,n.kt)("a",{parentName:"p",href:"/docs/quick-start/viewing-your-data"},"more details here")))}c.isMDXComponent=!0}}]);